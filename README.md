# paxlovid_drug_interaction
Paxlovid 藥物交互作用檢核程式
---
雖然現在上傳這隻程式已經有點晚了，畢竟國內的疫情已經趨緩到一個程度 (2022/12/05)，使用Paxlovid的時機會在更少。
但是套一句今年 (2022)在聯合藥學研討會聽到的一句話，從以前到現在我們沒有這麼在意過某個特定藥物的交互作用。Paxlovid在交互作用的歷史上一定有所定位，這隻程式希望未來不要再有因為這種鳥意疫情用到的一天，但是還是紀錄一下。

這隻程式一開始只有抓本院HIS的資料，這部分的語法再公開版都刪除了，所以應該還是會有機會看到一些殘餘的語法。

## 關於使用部分
1. 環境變數，requirements.txt和requirements.yml挑一個就好。部分程式碼裡面也會寫到需要那些套件
2. 可以自行輸入健保藥品查詢交互作用
3. 可以複製健保雲端藥歷內容再作交互作用檢核
4. 爬蟲的部分僅支援IE，對Win 10的用戶就沒辦法

---

## 開發小記錄
### 先講一下交互作用database的部分
1. 主要由衛服部提供的Paxlovid交互作用為基礎
2. 因為有發現衛服部的資料未涵蓋一些常用藥物，因此用一位高醫學姊的整理資料再作了延伸
3. 最後覺得還是用uptodate再check一次，所以會有較多的資料
4. 目標是希望藥師能看到結果就能快速給予病人指引

### 關於健保藥品檔
1. 後來新增讓藥師能自行輸入商品名或學名等資料查詢藥品功能
2. 這邊只有健保藥品，不過要改成全國藥品並不是難事，修改nhi_med.pkl就可以了
3. 更新的部分也做在裡面

### 關於複製健保雲端藥歷
1. 主要是參考這個： https://depart.femh.org.tw/meta/femhpaxlovid.htm?0.48584163252279633
2. 沒辦法完全復刻他的做法，程度還不夠，在自己的電腦嘗試是沒問題的
3. 複製健保雲端藥歷不支援IE，這主要是因為IE複製下來表格之間是用空白區分，而不是用tab，沒辦法抓到那個切割點

### 關於雲端藥歷爬蟲
1. 我知道有些醫院可以接API去抓健保局的資料，但是我們不行。我也知道爬蟲這件事其實有點法律爭議，但是這樣能快速取得病人用藥清單，所以只能這樣
2. 為什麼不用chrome或其他比較新的，這部分是因為跑起來都會挑錯誤，不清楚是不是有防爬設計
3. 用IE的好處是他沒有版本問題，所以不用在意版本更新
4. 速度會有點慢主要也是因為IE慢，所以每個步驟都要多sleep一點來等IE真的跑完
